# Базы данных. Лабораторная работа №4: Представления. Триггеры

### Задание 1

**Создание необновляемого представления**

Создать необновляемое представление с именем `non_updated_view`, возвращающее
пользователю количество велосипедов **каждой** модели. Представление должно
возвращать следующие столбцы: 
- модель;
- количество велосипедов данной модели (столбец назвать `count`).

### Задание 2

**Создание обновляемого представления, не допускающего добавление**

Создать обновляемое представление с именем `updated_view`, не позволяющее
выполнить команду INSERT, возвращающую информацию о пунктах выдачи.
Представление должно возвращать следующие столбцы: 
- идентификатор;
- название.

### Задание 3

**Создание обновляемого представления, допускающего добавление**

Создать обновляемое представление с именем `inserted_view` с проверкой
ограничений, возвращающую информацию о велосипедах с моделью 
`model_id` **= 9**. Представление должно позволять выполнить команду
`INSERT`. Представление должно возвращать все столбцы из таблицы
`bicycles`.

### Задание 4

**Создание вложенного обновляемого представления**

Создать вложенное обновляемое представление с именем `cascaded_view` с
проверкой ограничений, возвращающую информацию о велосипедах с типом *9*
и серийным номером, содержащим подстроку **002**. Представление
`cascaded_view` должно использовать созданное представление 
`inserted_view`. Представление должно возвращать все столбцы из таблицы
`bicycles`.

### Задание 5

**Триггер автоматического заполнения поля таблицы**

Создать триггер, автоматически заполняющий время выдачи велосипеда
(устанавливая текущую дату) при создании новой записи об аренде велосипедов.

*Примечание*: менять разделитель команд (DELIMITER //) в отправляемом
решении не требуется.

### Задание 6

**Триггер проверки целостности данных**

Создать триггер, который осуществляет проверку целостности данных:
запрещает создание новой записи о поставке для несуществующей точки выдачи.

### Задание 7

**Триггер протоколирования операций**

Создать триггер, осуществляющие протоколирование операции удаления данных из таблицы аренды велосипедов. 

Триггер должен записывать операции в таблицу `logs`, содержащую следующие поля:
- имя пользователя баз данных, от которого выполнялся запрос (столбец `username`);
- время удаления (столбец `timestamp`);
- удаленные данные, объединенные в одну текстовую строку (столбец `data`).
